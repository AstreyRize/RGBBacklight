function changeColor(){var e=document.getElementById("red"),t=document.getElementById("green"),n=document.getElementById("blue");if(e&&t&&n){var a=Array.from(document.getElementsByTagName("button")),r="rgb("+parseInt(e.value)+", "+parseInt(t.value)+", "+parseInt(n.value)+")";a.forEach(function(e){e.style.backgroundColor=r});var u=new XMLHttpRequest;u.open("GET","setColor?red="+e.value+"&green="+t.value+"&blue="+n.value,!0),u.send()}}function getColor(){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e=JSON.parse(r.responseText);if(!e)return;var t=document.getElementById("red"),n=document.getElementById("green"),a=document.getElementById("blue");if(!t||!n||!a)return;t.value=e.red,n.value=e.green,a.value=e.blue}},r.open("GET","getColor",!0),r.send()}function changeSpeed(){var e=document.getElementById("speed");if(e){var t=new XMLHttpRequest;t.open("GET","setEffectSpeed?effectSpeed="+e.value/1e3,!0),t.send()}}function getSpeed(){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText);if(!e)return;var t=document.getElementById("speed");if(!t)return;t.value=1e3*e.effectSpeed}},n.open("GET","getEffectSpeed",!0),n.send()}function changeEffect(e){switch(e){case 1:document.getElementById("speed").max=300;break;case 2:document.getElementById("speed").max=100}var t=new XMLHttpRequest;t.open("GET","/setEffect?effect="+e,!0),t.send()}getColor(),getSpeed();